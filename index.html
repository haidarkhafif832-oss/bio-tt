<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindFlow Final</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body { 
            font-family: 'Inter', sans-serif; 
            transition: background-color 0.4s ease, color 0.4s ease; 
        }

        .page { display: none; }
        .page.active { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            min-height: 70vh; 
            animation: slideUp 0.5s cubic-bezier(0.4, 0, 0.2, 1); 
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .nav-item.active { 
            background-color: #4f46e5; 
            color: white !important; 
            box-shadow: 0 10px 15px -3px rgba(79, 70, 229, 0.4);
        }

        .custom-card { 
            transition: background-color 0.4s ease, border-color 0.4s ease, transform 0.2s ease; 
        }
        
        .custom-card:hover {
            transform: translateY(-2px);
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        input[type="color"]::-webkit-color-swatch-wrapper { padding: 0; }
        input[type="color"]::-webkit-color-swatch { border: none; border-radius: 12px; }
    </style>
</head>
<body class="bg-gray-50 text-slate-800" id="app-body">

<!-- Tombol Rahasia di Pojok Kanan Atas -->
<button onclick="showPage('secret')" class="fixed top-4 right-4 w-8 h-8 flex items-center justify-center bg-white/80 backdrop-blur-sm border border-slate-200 rounded-lg text-slate-400 hover:text-indigo-500 hover:border-indigo-200 shadow-sm transition-all z-[60] text-xs">
    <i class="fas fa-key"></i>
</button>

<nav id="sidebar" class="fixed bottom-0 left-0 right-0 lg:left-0 lg:top-0 lg:bottom-0 lg:w-64 border-t lg:border-r bg-white border-gray-200 p-4 flex lg:flex-col justify-around lg:justify-start gap-2 z-50 transition-all duration-300 overflow-y-auto no-scrollbar">
    <div class="hidden lg:flex items-center gap-3 mb-8 px-4 pt-4">
        <div class="w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-indigo-200">
            <i class="fas fa-brain text-white"></i>
        </div>
        <span class="font-bold text-xl tracking-tight text-slate-900" id="brand-name">MindFlow</span>
    </div>

    <button onclick="showPage('home')" id="nav-home" class="nav-item active flex items-center gap-3 px-5 py-3 rounded-xl transition-all w-full text-slate-500 hover:bg-slate-50">
        <i class="fas fa-home w-5"></i>
        <span class="hidden lg:inline font-semibold">Beranda</span>
    </button>
    
    <button onclick="showPage('links')" id="nav-links" class="nav-item flex items-center gap-3 px-5 py-3 rounded-xl transition-all w-full text-slate-500 hover:bg-slate-50">
        <i class="fas fa-link w-5"></i>
        <span class="hidden lg:inline font-semibold">Catatan</span>
    </button>
    
    <button onclick="showPage('notifications')" id="nav-notifications" class="nav-item flex items-center gap-3 px-5 py-3 rounded-xl transition-all w-full text-slate-500 hover:bg-slate-50">
        <i class="fas fa-bell w-5"></i>
        <span class="hidden lg:inline font-semibold">Notifikasi</span>
    </button>

    <button onclick="showPage('info')" id="nav-info" class="nav-item flex items-center gap-3 px-5 py-3 rounded-xl transition-all w-full text-slate-500 hover:bg-slate-50">
        <i class="fas fa-info-circle w-5"></i>
        <span class="hidden lg:inline font-semibold">Informasi</span>
    </button>
    
    <button onclick="showPage('settings')" id="nav-settings" class="nav-item flex items-center gap-3 px-5 py-3 rounded-xl transition-all w-full text-slate-500 hover:bg-slate-50">
        <i class="fas fa-palette w-5"></i>
        <span class="hidden lg:inline font-semibold">Tampilan</span>
    </button>
</nav>

<main class="lg:ml-64 p-4 md:p-12 pb-24 lg:pb-12">
    <div class="max-w-3xl mx-auto" id="main-content">

        <!-- Halaman Beranda -->
        <section id="home" class="page active pt-10">
            <div class="text-center p-10 rounded-[2.5rem] bg-white shadow-2xl shadow-indigo-100/50 border border-gray-100 w-full max-w-md custom-card">
                <div class="relative w-24 h-24 mx-auto mb-8">
                    <div class="absolute inset-0 bg-indigo-500 blur-2xl opacity-20 animate-pulse"></div>
                    <div class="relative w-full h-full bg-black rounded-3xl flex items-center justify-center shadow-xl">
                        <i class="fab fa-tiktok text-4xl text-white"></i>
                    </div>
                </div>
                <h1 class="text-3xl font-extrabold mb-2 tracking-tight">Halo, Teman!</h1>
                <p class="text-xl font-medium text-indigo-600 mb-6">@haiiiiiidar08</p>
                <p class="text-slate-500 leading-relaxed">
                    Terimakasih sudah cek bio ku, <br>nanti follow kalo udah nanti ku follow balik. ‚ú®
                </p>
                <a href="https://vt.tiktok.com/ZSad831xr/" target="_blank" class="mt-8 inline-block w-full py-4 bg-black text-white rounded-2xl font-bold hover:scale-[1.02] transition-transform active:scale-95">
                    Kunjungi Profil
                </a>
            </div>
        </section>

        <!-- Halaman Catatan -->
        <section id="links" class="page pt-6">
            <div class="w-full bg-white p-8 rounded-[2rem] shadow-xl shadow-slate-200/50 border border-gray-100 custom-card">
                <div class="flex items-center gap-4 mb-8">
                    <div class="w-12 h-12 bg-indigo-50 rounded-2xl flex items-center justify-center text-indigo-600">
                        <i class="fas fa-link text-xl"></i>
                    </div>
                    <div>
                        <h2 class="text-2xl font-bold">Catatan & Link</h2>
                        <p class="text-slate-400 text-sm">Simpan hal penting di sini.</p>
                    </div>
                </div>

                <div class="mb-8 p-5 rounded-2xl bg-rose-50 border border-rose-100 flex items-center justify-between gap-4">
                    <div class="flex-1 min-w-0">
                        <p class="text-xs font-bold text-rose-600 uppercase tracking-widest mb-1">Status Video</p>
                        <p class="text-sm font-medium text-slate-700">link vidio yang ini sudah ku hapus.</p>
                    </div>
                </div>

                <div class="flex gap-3 mb-8">
                    <input type="text" id="noteInput" placeholder="Ketik sesuatu..." 
                        class="flex-1 px-6 py-4 rounded-2xl border border-gray-100 bg-gray-50 outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-medium">
                    <button onclick="addNote()" class="bg-indigo-600 text-white w-14 rounded-2xl hover:bg-indigo-700 shadow-lg shadow-indigo-200 transition-all active:scale-90">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>

                <div id="notesContainer" class="space-y-4 max-h-[400px] overflow-y-auto pr-2 no-scrollbar"></div>
            </div>
        </section>

        <!-- Halaman Notifikasi -->
        <section id="notifications" class="page pt-6">
            <div class="w-full bg-white p-8 rounded-[2rem] shadow-xl shadow-slate-200/50 border border-gray-100 custom-card">
                <div class="flex items-center gap-4 mb-8">
                    <div class="w-12 h-12 bg-blue-50 rounded-2xl flex items-center justify-center text-blue-600">
                        <i class="fas fa-bell text-xl"></i>
                    </div>
                    <div>
                        <h2 class="text-2xl font-bold">Riwayat Notifikasi</h2>
                        <p class="text-slate-400 text-sm">Aktivitas aplikasi terekam di sini.</p>
                    </div>
                </div>

                <!-- Di sini notifikasi akan muncul -->
                <div id="notificationList" class="space-y-3 max-h-[500px] overflow-y-auto pr-2 no-scrollbar"></div>
                
                <div class="mt-4 pt-4 border-t border-dashed border-gray-200 text-center">
                    <button onclick="clearNotifications()" class="text-xs text-red-400 hover:text-red-600 font-bold uppercase tracking-widest">Bersihkan Notifikasi</button>
                </div>
            </div>
        </section>

        <!-- Halaman Informasi -->
        <section id="info" class="page pt-6">
            <div class="w-full bg-white p-8 rounded-[2rem] shadow-xl shadow-slate-200/50 border border-gray-100 custom-card">
                <div class="flex items-center gap-4 mb-8">
                    <div class="w-12 h-12 bg-emerald-50 rounded-2xl flex items-center justify-center text-emerald-600">
                        <i class="fas fa-info text-xl"></i>
                    </div>
                    <div>
                        <h2 class="text-2xl font-bold">Informasi Terbaru</h2>
                        <p class="text-slate-400 text-sm">Update dan pengumuman.</p>
                    </div>
                </div>

                <div class="bg-slate-50 p-6 rounded-2xl border border-slate-100 space-y-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="bg-indigo-600 text-white text-[10px] font-bold px-2 py-1 rounded-md uppercase tracking-wider">Terbaru</span>
                        <span class="text-xs text-slate-400 font-bold">15 Jan 2025</span>
                    </div>
                    
                    <p class="text-slate-700 leading-relaxed font-medium">
                        Saya membuat link <span class="text-indigo-600 font-bold">ùó†ùóúùó°ùóòùóñùó•ùóîùóôùóß ùó£ùóîùóßùóñùóõ</span> yang memiliki PW. Kalo mau PW, ini sandi untuk mendapatkan PW-nya:
                    </p>

                    <div class="flex items-center gap-2">
                        <code class="flex-1 bg-white border border-indigo-100 p-3 rounded-xl text-indigo-600 font-mono font-bold text-center tracking-widest">(9648957965)</code>
                        <button onclick="copyToClipboard('(9648957965)')" class="bg-indigo-600 text-white w-12 h-12 rounded-xl hover:bg-indigo-700 transition-all flex items-center justify-center shadow-lg shadow-indigo-200">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>

                    <p class="text-slate-600 text-sm italic border-l-4 border-indigo-200 pl-4 py-1">
                        Kalian salin lalu tulis di tombol pojok kanan atas (ikon kunci). Jika benar, nanti akan ada pesan PWNYA.
                    </p>
                </div>
            </div>
        </section>

        <!-- Halaman Pengaturan -->
        <section id="settings" class="page pt-6">
            <div class="w-full bg-white p-8 rounded-[2rem] shadow-xl shadow-slate-200/50 border border-gray-100 custom-card">
                <div class="flex items-center gap-4 mb-10">
                    <div class="w-12 h-12 bg-amber-50 rounded-2xl flex items-center justify-center text-amber-600">
                        <i class="fas fa-magic text-xl"></i>
                    </div>
                    <div>
                        <h2 class="text-2xl font-bold">Personalisasi</h2>
                        <p class="text-slate-400 text-sm">Ubah suasana aplikasi.</p>
                    </div>
                </div>

                <div class="space-y-12">
                    <div>
                        <label class="block text-xs font-bold uppercase tracking-[0.2em] text-slate-400 mb-5">Warna Aksen Teks</label>
                        <div class="flex flex-wrap gap-4">
                            <button onclick="changeFontColor('#1e293b')" class="w-12 h-12 rounded-2xl border-4 border-white shadow-lg bg-slate-800"></button>
                            <button onclick="changeFontColor('#4f46e5')" class="w-12 h-12 rounded-2xl border-4 border-white shadow-lg bg-indigo-600"></button>
                            <button onclick="changeFontColor('#e11d48')" class="w-12 h-12 rounded-2xl border-4 border-white shadow-lg bg-rose-600"></button>
                        </div>
                    </div>
                    <div>
                        <label class="block text-xs font-bold uppercase tracking-[0.2em] text-slate-400 mb-5">Warna Latar Belakang</label>
                        <div class="flex flex-wrap gap-4">
                            <button onclick="changeBgColor('#f8fafc')" class="w-12 h-12 rounded-2xl border-2 border-slate-100 bg-[#f8fafc]"></button>
                            <button onclick="changeBgColor('#0f172a')" class="w-12 h-12 rounded-2xl border-2 border-slate-100 bg-[#0f172a]"></button>
                        </div>
                    </div>
                    <div class="pt-10 border-t border-slate-100 flex justify-end">
                        <button onclick="resetApp()" class="text-red-500 font-bold text-sm uppercase tracking-wider hover:underline">Reset Pabrik</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Halaman Rahasia (Phone Vault & Minecraft) -->
        <section id="secret" class="page pt-10">
            <!-- Tampilan Terkunci -->
            <div id="vault-lock" class="text-center p-10 rounded-[2.5rem] bg-slate-900 shadow-2xl w-full max-w-md border border-slate-800">
                <div class="w-16 h-16 bg-indigo-500/10 rounded-full flex items-center justify-center mx-auto mb-6 text-indigo-400">
                    <i class="fas fa-lock text-2xl"></i>
                </div>
                <h2 class="text-white text-xl font-bold mb-6">Secret Vault</h2>
                <div class="space-y-4">
                    <input type="password" id="secretCode" placeholder="Masukkan Kode..." 
                        class="w-full px-6 py-4 rounded-2xl bg-slate-800 border border-slate-700 text-white outline-none focus:ring-2 focus:ring-indigo-500 transition-all text-center tracking-widest">
                    <button onclick="unlockVault()" class="w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold hover:bg-indigo-700 transition-all active:scale-95">
                        Buka Rahasia
                    </button>
                </div>
            </div>

            <!-- Hasil: Phone Number -->
            <div id="vault-phone" class="hidden text-center p-10 rounded-[2.5rem] bg-white shadow-2xl w-full max-w-md border border-gray-100 custom-card">
                <div class="w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-6 text-emerald-600">
                    <i class="fas fa-phone-alt text-2xl"></i>
                </div>
                <h2 class="text-2xl font-bold mb-2">Kontak Rahasia</h2>
                <p class="text-slate-400 text-sm mb-8">Berhasil dibuka.</p>
                <div class="p-6 bg-slate-50 rounded-2xl border border-slate-100 mb-6">
                    <p class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-1">Nomor WA</p>
                    <p class="text-2xl font-bold text-slate-900 tracking-tighter" id="res-phone">085921988922</p>
                </div>
                <button onclick="copyToClipboard('085921988922')" class="w-full py-3 bg-slate-900 text-white rounded-xl font-bold hover:scale-105 transition-transform">Salin Angka</button>
            </div>

            <!-- Hasil: Minecraft Password -->
            <div id="vault-mc" class="hidden text-center p-10 rounded-[2.5rem] bg-white shadow-2xl w-full max-w-md border border-gray-100 custom-card">
                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 text-green-600">
                    <i class="fas fa-cube text-2xl"></i>
                </div>
                <h2 class="text-2xl font-bold mb-2">Minecraft Patch</h2>
                <p class="text-slate-400 text-sm mb-8">Sandi ditemukan.</p>
                <div class="p-6 bg-slate-50 rounded-2xl border border-slate-100 mb-6">
                    <p class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-1">PWNYA:</p>
                    <p class="text-2xl font-bold text-slate-900 tracking-tighter" id="res-mc">poiuytrewq</p>
                </div>
                <button onclick="copyToClipboard('poiuytrewq')" class="w-full py-3 bg-slate-900 text-white rounded-xl font-bold hover:scale-105 transition-transform">Salin PW</button>
            </div>
        </section>

    </div>
</main>

<div id="toast" class="fixed top-8 left-1/2 -translate-x-1/2 bg-slate-900 text-white px-6 py-3 rounded-2xl shadow-2xl transition-all duration-500 opacity-0 translate-y-[-100%] pointer-events-none z-[100] flex items-center gap-3">
    <i id="toast-icon" class="fas fa-check-circle text-emerald-400"></i>
    <span id="toast-msg" class="font-medium">Tersimpan!</span>
</div>

<script>
    // Inisialisasi data, jika ada error di localStorage, reset ke array kosong
    let notes = [];
    try {
        notes = JSON.parse(localStorage.getItem('appNotes')) || [];
    } catch(e) { notes = []; }

    let appLogs = [];
    try {
        appLogs = JSON.parse(localStorage.getItem('appLogs')) || [];
        if(!Array.isArray(appLogs)) appLogs = []; // Pastikan selalu array
    } catch(e) { appLogs = []; }

    // --- NAVIGATION ---
    function showPage(pageId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        
        const targetPage = document.getElementById(pageId);
        if(targetPage) targetPage.classList.add('active');
        
        const navId = 'nav-' + pageId;
        const targetNav = document.getElementById(navId);
        if(targetNav) targetNav.classList.add('active');
        
        // Fitur khusus: Render ulang notifikasi saat halaman dibuka
        if(pageId === 'notifications') {
            renderNotifications();
        }

        // Reset tampilan brankas saat pindah halaman
        if(pageId !== 'secret') {
            document.getElementById('vault-lock').classList.remove('hidden');
            document.getElementById('vault-phone').classList.add('hidden');
            document.getElementById('vault-mc').classList.add('hidden');
            document.getElementById('secretCode').value = '';
        }

        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // --- NOTIFICATIONS SYSTEM ---
    function logNotification(msg) {
        const timestamp = new Date().toLocaleString('id-ID', { hour: '2-digit', minute:'2-digit', day: 'numeric', month: 'short' });
        const newLog = { id: Date.now(), msg: msg, time: timestamp };
        
        // Tambahkan ke array
        appLogs.unshift(newLog);
        
        // Simpan ke storage
        localStorage.setItem('appLogs', JSON.stringify(appLogs));
        
        // Render ulang (penting!)
        renderNotifications();
    }

    function renderNotifications() {
        const container = document.getElementById('notificationList');
        if(!container) return;
        
        if(appLogs.length === 0) {
            container.innerHTML = `<div class="text-center py-10 opacity-40 text-sm">Belum ada notifikasi.</div>`;
            return;
        }

        container.innerHTML = appLogs.map(log => `
            <div class="flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-100 group hover:border-indigo-200 transition-colors">
                <div class="flex-1 min-w-0 pr-3">
                    <p class="text-sm font-medium text-slate-700 truncate">${log.msg}</p>
                    <p class="text-[10px] text-slate-400 mt-1">${log.time}</p>
                </div>
                <button onclick="copyToClipboard('${log.msg}')" class="w-8 h-8 rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-white transition-all bg-transparent" title="Salin Teks">
                    <i class="fas fa-copy text-xs"></i>
                </button>
            </div>
        `).join('');
    }

    function clearNotifications() {
        if(confirm('Hapus semua riwayat notifikasi?')) {
            appLogs = [];
            localStorage.setItem('appLogs', JSON.stringify(appLogs));
            renderNotifications();
            showToast("Notifikasi dihapus");
        }
    }

    // --- VAULT LOGIC (DIPERBAIKI) ---
    function unlockVault() {
        // Ambil input dan hapus spasi di awal/akhir
        const input = document.getElementById('secretCode').value.trim();
        
        // Kode Rahasia
        const codePhone = "0987654321+";
        const codeMC = "(9648957965)"; 
        const codeMCRaw = "9648957965"; // Antisipasi jika user tidak tulis kurung

        if(input === codePhone) {
            document.getElementById('vault-lock').classList.add('hidden');
            document.getElementById('vault-phone').classList.remove('hidden');
            // Menampilkan nomor di notifikasi sesuai permintaan
            logNotification("Kontak Rahasia: 085921988922");
            showToast("Akses Diterima!");
        } 
        else if(input === codeMC || input === codeMCRaw) {
            document.getElementById('vault-lock').classList.add('hidden');
            document.getElementById('vault-mc').classList.remove('hidden');
            // Menampilkan password di notifikasi sesuai permintaan
            logNotification("Password Minecraft: poiuytrewq");
            showToast("Akses Diterima!");
        } 
        else {
            showToast("Kode salah!");
            // Efek getar jika salah
            const lock = document.getElementById('vault-lock');
            lock.classList.add('animate-shake');
            setTimeout(() => lock.classList.remove('animate-shake'), 500);
        }
    }

    // --- SETTINGS ---
    function changeFontColor(color){
        document.getElementById('app-body').style.color = color;
        localStorage.setItem('appFontColor', color);
        logNotification("Mengubah warna teks");
        showToast("Warna teks diperbarui");
    }

    function changeBgColor(color){
        const body = document.getElementById('app-body');
        body.style.backgroundColor = color;
        const isDark = isColorDark(color);
        updateThemeUI(isDark);
        localStorage.setItem('appBgColor', color);
        logNotification("Mengubah background");
        showToast("Tema latar diperbarui");
    }

    function updateThemeUI(isDark) {
        const cards = document.querySelectorAll('.custom-card');
        const sidebar = document.getElementById('sidebar');
        const brand = document.getElementById('brand-name');

        if(isDark){
            sidebar.classList.add('bg-slate-900', 'border-slate-800');
            sidebar.classList.remove('bg-white', 'border-gray-200');
            brand.style.color = 'white';
            cards.forEach(c => {
                c.classList.add('bg-slate-800', 'border-slate-700');
                c.classList.remove('bg-white', 'border-gray-100');
                c.querySelectorAll('h2, h1, span, label').forEach(el => {
                    if(!el.className.includes('text-')) el.style.color = 'white';
                });
                c.querySelectorAll('p').forEach(el => {
                    if(!el.className.includes('text-')) el.style.color = '#cbd5e1';
                });
            });
        } else {
            sidebar.classList.add('bg-white', 'border-gray-200');
            sidebar.classList.remove('bg-slate-900', 'border-slate-800');
            brand.style.color = '#0f172a';
            cards.forEach(c => {
                c.classList.add('bg-white', 'border-gray-100');
                c.classList.remove('bg-slate-800', 'border-slate-700');
                c.querySelectorAll('*').forEach(el => el.style.color = '');
            });
        }
    }

    function isColorDark(color){
        if(!color) return false;
        if(color.startsWith('#')) {
            let r = parseInt(color.slice(1,3),16);
            let g = parseInt(color.slice(3,5),16);
            let b = parseInt(color.slice(5,7),16);
            return (r*299 + g*587 + b*114)/1000 < 128;
        }
        return false;
    }

    // --- UTILITIES ---
    function copyToClipboard(text) {
        const dummy = document.createElement("textarea");
        document.body.appendChild(dummy);
        dummy.value = text;
        dummy.select();
        document.execCommand("copy");
        document.body.removeChild(dummy);
        showToast("Teks disalin!");
    }

    function addNote(){
        const input = document.getElementById('noteInput');
        const val = input.value.trim();
        if(!val) return;
        notes.unshift({id: Date.now(), text: val, date: new Date().toLocaleDateString('id-ID')});
        input.value = '';
        saveNotes(); 
        renderNotes();
    }

    function deleteNote(id){ 
        notes = notes.filter(n=>n.id!==id); 
        saveNotes(); 
        renderNotes();
    }

    function saveNotes(){ localStorage.setItem('appNotes', JSON.stringify(notes)); }

    function renderNotes(){
        const container = document.getElementById('notesContainer');
        if(!container) return;
        if(notes.length===0){
            container.innerHTML=`<div class="text-center py-10 opacity-40 text-sm"><p>Belum ada catatan.</p></div>`;
            return;
        }
        container.innerHTML = notes.map(n=>`
            <div class="group flex items-center justify-between p-4 rounded-xl bg-slate-50 border border-slate-100">
                <div class="flex-1 min-w-0 pr-3">
                    <p class="text-sm font-medium truncate text-slate-700">${n.text}</p>
                    <span class="text-[10px] text-slate-400 font-bold">${n.date}</span>
                </div>
                <div class="flex items-center gap-1">
                    <button onclick="copyToClipboard('${n.text}')" class="w-8 h-8 rounded-lg text-slate-400 hover:text-indigo-500 hover:bg-white transition-all">
                        <i class="fas fa-copy text-xs"></i>
                    </button>
                    <button onclick="deleteNote(${n.id})" class="w-8 h-8 rounded-lg text-red-300 hover:text-red-500 hover:bg-red-50 transition-all opacity-0 group-hover:opacity-100">
                        <i class="fas fa-trash-alt text-xs"></i>
                    </button>
                </div>
            </div>`).join('');
    }

    function showToast(msg) {
        const t = document.getElementById('toast');
        document.getElementById('toast-msg').innerText = msg;
        t.style.opacity = '1';
        t.style.transform = 'translateY(0) translateX(-50%)';
        setTimeout(() => {
            t.style.opacity = '0';
            t.style.transform = 'translateY(-100%) translateX(-50%)';
        }, 2500);
    }

    function resetApp(){ 
        if(confirm("Hapus semua data?")){ 
            localStorage.clear(); 
            window.location.reload(); 
        } 
    }

    // --- INIT ---
    window.onload = ()=>{
        const savedFont = localStorage.getItem('appFontColor');
        const savedBg = localStorage.getItem('appBgColor');
        if(savedFont) document.getElementById('app-body').style.color = savedFont;
        if(savedBg) {
            document.getElementById('app-body').style.backgroundColor = savedBg;
            updateThemeUI(isColorDark(savedBg));
        }
        renderNotes();
        renderNotifications();
    };
</script>

<style>
    @keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-10px); }
        75% { transform: translateX(10px); }
    }
    .animate-shake { animation: shake 0.2s ease-in-out 0s 2; }
</style>

</body>
</html>


